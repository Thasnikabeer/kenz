<%- include('../layouts/productheader') %>


<div class="header-middle sticky-header">
    <div class="container">
        <div class="header-left">
            <button class="mobile-menu-toggler">
                <span class="sr-only">Toggle mobile menu</span>
                <i class="icon-bars"></i>
            </button>

            <a href="/home" class="logo">
                <h2 style="color: black;;">KenZ</h2>
            </a>
            <nav class="main-nav">
                <ul class="menu sf-arrows">
                    
                    <li>
                        <a href="/home" class="sf-with-ul">Home</a>

                        <div class="megamenu megamenu-md">

                        </div><!-- End .megamenu megamenu-md -->
                    </li>
                    <li>
                        <a href="/product-list" class="sf-with-ul">Shop</a>

                        <div class="megamenu megamenu-md">

                        </div><!-- End .megamenu megamenu-md -->
                    </li>
                    <li>
                        <a href="/profile" class="sf-with-ul">Profile</a>

                        <div class="megamenu megamenu-md">

                        </div><!-- End .megamenu megamenu-md -->
                    </li>

                </ul><!-- End .menu -->
            </nav><!-- End .main-nav -->
        </div><!-- End .header-left -->

        <div class="header-right">

            <div class="dropdown compare-dropdown">
                <div class="wishlist">
                    <a href="/wishlist" title="Wishlist">
                        <i class="icon-heart-o"></i>

                </div><!-- End .compare-dropdown -->


            </div><!-- End .compare-dropdown -->

            <div class="dropdown cart-dropdown">
                <a href="#" class="dropdown-toggle" role="button" data-toggle="dropdown" aria-haspopup="true"
                aria-expanded="false" data-display="static">
                 <i class="icon-shopping-cart" style="color: black;"></i>
             </a>
             
                <div class="dropdown-menu dropdown-menu-right">
                    <div class="dropdown-cart-products">

                    </div><!-- End .cart-product -->

                    <div class="dropdown-cart-total">

                    </div><!-- End .dropdown-cart-total -->

                    <div class="dropdown-cart-action">
                        <a href="/cartlist" class="btn btn-primary">View Cart</a>
                    </div><!-- End .dropdown-cart-total -->                       
                </div><!-- End .dropdown-menu -->
            </div><!-- End .cart-dropdown -->
            <div class="dropdown compare-dropdown">
                <div class="logout">
                    <a href="/logout" title="Logout" style="color: black;">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="black" class="bi bi-box-arrow-right" viewBox="0 0 16 16">
                            <path fill-rule="evenodd" d="M10 1a1 1 0 0 1 1 1v3h-1V2H2v12h8v-3h1v3a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h8z"/>
                            <path fill-rule="evenodd" d="M13.5 8a.5.5 0 0 0 0-1h-7a.5.5 0 0 0 0 1h7z"/>
                            <path fill-rule="evenodd" d="M12.354 4.646a.5.5 0 0 0-.708.708L14.293 8l-2.647 2.646a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3z"/>
                        </svg>
                        Logout
                    </a>
                </div><!-- End .logout -->
            </div><!-- End .compare-dropdown -->
            <!-- End .compare-dropdown -->
            
        </div><!-- End .header-right -->
    </div><!-- End .container -->
</div><!-- End .header-middle -->
<style>
    .btn-add-address {
      display: inline-block;
      padding: 10px 20px;
      margin-left: 150px; /* Adjust margin-left to maintain previous position */
      font-size: 16px;
      color: #fff;
      background-color: #ea8dd9;
      border: none;
      border-radius: 5px;
      text-decoration: none;
      text-align: center;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }
  
    .btn-add-address:hover {
      background-color: #0056b3; /* Darker shade for hover */
    }
  
    .btn-add-address i {
      margin-right: 5px;
    }
  
    /* Style for Edit and Delete buttons */
    .update-btn,
    .delete-btn {
      display: inline-block;
      padding: 10px 20px;
      font-size: 16px;
      color: #fff;
      border: none;
      border-radius: 5px;
      text-decoration: none;
      text-align: center;
      cursor: pointer;
      transition: background-color 0.3s ease;
      margin-left: 20px; /* Adjust margin-left to space out buttons */
    }
  
    .update-btn {
      background-color: #ea8dd9;
      border: 1px solid #ea8dd9;
    }
  
    .delete-btn {
      background-color: red;
      border: 1px solid red;
    }
  
    .update-btn:hover,
    .delete-btn:hover {
      opacity: 0.8;
    }
  </style>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</header><!-- End .header -->

    <main class="main">
        <div class="page-header text-center" style="background-image: url('https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRUZTqYvv38DZhhKiWQ4qEMiQpvB8S2zfRNp-DPYG8v-JrQqLl5_lcnD_-b8oozMh5D9Yw&usqp=CAU')">
            <div class="container">
                <h1 class="page-title">ADDRESS</h1>
            </div><!-- End .container -->
        </div><!-- End .page-header -->
        <nav aria-label="breadcrumb" class="breadcrumb-nav">
            <div class="container">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href="/home">Home</a></li>
                    <li class="breadcrumb-item"><a href="/profile">profile</a></li>

                    <li class="breadcrumb-item active" aria-current="page">Address</li>
                </ol>
            </div><!-- End .container -->
        </nav><!-- End .breadcrumb-nav -->
        <div class="card">
            <br>
            <br>
            <h4>
                <a href="/add-Address" class="btn-add-address">
                  <i class="fa fa-plus"></i> Add New Address
                </a>
              </h4>
            <div class="card-body" style=" margin: 50px; border: 2px solid black; padding: 3rem;">
                <% console.log("Addresses:", addresses); %>
                    <% if (addresses && addresses.length> 0) { %>
                        <% addresses.forEach((userAddress)=> { %>
                            <div class="address-details"
                                style="border: 2px solid rgba(222, 203, 203, 0.367); padding: 3%;">
                                <h6>Address</h6>
                                <p>
                                    <%= userAddress.address[0].name || 'No name found' %>
                                </p>
                                <p>
                                    <%= userAddress.address[0].mobile || 'No name found' %>
                                </p>
                                <p>
                                    <%= userAddress.address[0].address || 'No name found' %>
                                </p>
                                <p>
                                    <%= userAddress.address[0].city || 'No name found' %>
                                </p>
                                <p>
                                    <%= userAddress.address[0].pincode || 'No name found' %>
                                </p>
                                <p>
                                    <%= userAddress.address[0].district || 'No name found' %>
                                </p>
                                <p>
                                    <%= userAddress.address[0].state || 'No name found' %>
                                </p>
                                <div class="form-group">
                                    <a href="/update-address/<%= userAddress._id %>">
                                        <button type="submit" class="btn btn-primary text-dark update-btn" style="background-color: #ea8dd9; color: white;">Edit</button>

                                    </a>
                          
                                    <a href="#" onclick="confirmDelete('/delete-address/<%= userAddress._id %>')">
                                        <button type="button" class="btn btn-danger text-dark delete-btn">Delete</button>
                                      </a>
                                  </div>
                            </div>
                            <br>
                            <% }) %>
                                <% } else { %>
                                    <p>No addresses found.</p>
                                    <% } %>

            </div>
        </div>
    </main><!-- End .main -->


    <script>
        function confirmDelete(url) {
          Swal.fire({
            title: "Are you sure?",
            text: "Once deleted, you will not be able to recover this address!",
            icon: "warning",
            showCancelButton: true,
            confirmButtonColor: "#3085d6",
            cancelButtonColor: "#d33",
            confirmButtonText: "Yes, delete it!",
          }).then((result) => {
            if (result.isConfirmed) {
              window.location.href = url;
            }
          });
        }
      </script>
  <%- include('../layouts/userFooter') %>
    </body>


    <!-- KenZ/index-5.html  22 Nov 2019 09:56:18 GMT -->

    </html>